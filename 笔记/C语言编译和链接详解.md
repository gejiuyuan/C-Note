我们电脑上可直接双击运行的程序被称为”可执行程序“（Executable Program）。它是一系列计算机指令和数据的集合，以二进制形式存储，以便CPU识别处理，但对于程序员来说，极难懂。

在Windows中，可执行程序的后缀有.exe、.msi、.com等，而在Linux和Mac等系统中，可执行程序没有特定的后缀，系统通常是根据文件头部信息来判断是否可执行。

正因为直接使用二进制变成难度极高，才产生了汇编、C、C++、Java、GO等高级语言，它们提供了便于人们理解的语法和词汇，不仅提高了计算机编程的门槛，还极大的提高了开发效率。



### 编译

前面说过，CPU执行的都是二进制指令，也就是说，像C、C++等高级语言的指令，它根本不认识，这就亟需一个转换工具，将C语言转成二进制，也就是转译生成.exe之类的可执行程序。这种工具就是”编译器“。编译器扫描、识别和转换成二进制指令这些高级语言的过程就是”编译”。



C语言的编译器有很多种，不同平台有不同的编译器，例如：

- Windows下常用的是微软开发的Visual C++，Visual Studio中就集成了它，一般不单独使用；
- Linux下常用的是GUN组织开发的gcc，很多Linux发型版都自带gcc；
- Mac下常用的是LLVM/Clang，它被集成在Xcode中（Xcode以前是集成的gcc，但后来gcc不再配合才改的，LLVM/Clang的性能比gcc更强）。



### 链接

C语言代码被编译后，并没有生成最终的可执行文件（.exe），而是生成了一种叫做“目标文件（临时文件）”的中间文件。目标文件也是二进制文件，其文件后缀因编译器而异，例如Visual C++的是.obj、gcc是.o。

那么，有两个问题：

1. 既然目标文件和可执行文件都是二进制的，为什么不能直接作为可执行文件呢？
2. 那目标文件要怎样处理才能变成可执行文件呢？

解释:

1. 编译器只是将C语言代码变成了二进制形式而已，如果想要最终执行，还需要和**系统组件（如标准库、动态链接库）打包**，它们都是程序运行所必需的。
2. 把目标文件变成可执行文件需要经过**”链接“**处理。

所谓”链接“，其实就是打包、组合的意思。依托”链接器“的帮助，可将目标文件和系统组件组合成可执行文件。



### C语言编译器

##### 桌面操作系统

1. **Visual C++**：

   简称**MSVC**，只能用于Windows系统，不开源。

   用户可在Visual Studio Community版本中免费试用，但如果要将它开发的应用商用，则需先了解好相关许可证文档。

   对C99标准支持很有限，且完全不支持C11标准，缺点确实多，例如不支持动态扩容数组、long在64位编译模式下仍为4字节等。

2. **GCC**：

   Windows、Unix、Linux均可用，大多数版Linux默认使用。

   用户可免费使用和商用。

3. **LLVM/Clang**：

   Windows、Unix、Linux均可用，FreeBSD、MacOS等默认使用。

   用户可免费使用和商用。



##### 嵌入式系统

1. **Keil C51**：

   用于Keil公司51系列单片机的编译器

2. **ARM GCC**：

   Arduino板搭载的开发套件中针对AVR微控制器的编译器

3. **ADS**

   ARM Development Suite，ARM提供

4. **RVDS**

   RealView Development Suite，ARM提供

5. **DS-5 Studio**

   ARM提供

6. **CCS**

   Code Composer Studio，DSP设计商TI（Texas Instruments）提供

7. **Visual DSP++**

   DSP设计商ADI（Analog Devices，Inc.）提供

等等。

通常，用于嵌入式系统开发的编译工具链都没有免费版本，而且一般需要通过国内代理进行购买。所以，这对于个人开发者或者嵌入式系统爱好者而言是一道不低的门槛。

不过 Arduino 的开发套件是可免费下载使用的，并且用它做开发板连接调试也十分简单。Arduino 所采用的C编译器是基于 GCC 的。

还有像树莓派（Raspberry Pi）这种迷你电脑可以直接使用 GCC 和 Clang 编译器。此外，还有像 nVidia 公司推出的 Jetson TK 系列开发板也可直接使用 GCC 和 Clang 编译器。树莓派与 Jetson TK 都默认安装了 Linux 操作系统。

在嵌入式领域，一般比较低端的单片机，比如 8 位的 MCU 所对应的C编译器可能只支持 C90 标准，有些甚至连 C90 标准的很多特性都不支持。因为它们一方面内存小，ROM 的容量也小；另一方面，本身处理器机能就十分有限，有些甚至无法支持函数[指针](http://c.biancheng.net/c/80/)，因为处理器本身不包含通过寄存器做间接过程调用的指令。

而像 32 位处理器或 DSP，一般都至少能支持 C99 标准，它们本身的性能也十分强大。而像 ARM 出的 RVDS 编译器甚至可用 GNU 语法扩展。



![](./img/C语言编译器.jpg)











